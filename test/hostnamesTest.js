var _global = require('./global');
var assert = require('assert');

var userdao = require('../js/userdao');
var hostdao = require('../js/hostdao');

describe('test hostnames and ips', function(){
	var user = {name: "Rodrigo de Bona Sartor", email: "xxx@gmail.com", password: "abcd1234", active: "Y", timeZone: "America/Sao_Paulo", token: "ABC-0123-ASDASD"};

	beforeEach(function(done){
		userdao.removeAll(function () {
			userdao.insert( user, function(data){
				user = data;
				hostdao.removeAll(function () {
					done();
				});
			} );
		});
	})

	it('insert', function(done){
		var hostnames = [
			[true, "mydomain.com"],
			[false, "."],
			[false, ".a.s"],
			[true, "test.mydomain.com"],
			[true, "en.wikipedia.org"],
			[false, "28999"],
			[false, "abc"],
			[false, "3abc"],
			[false, "192.168.0.2000000000"],
			[false, "*hi*"],
			[false, "-hi-"],
			[false, "_domain"],
			[false, ":54:sda54"],
			[true, "123.23.34.2"],
			[true, "172.26.168.134"],
			[true, "1.2.3.4"],
			[false, " 01.102.103.104  "],
			[true, "2001:db8:3333:4444:5555:6666:1.2.3.4"],
			[true, "::11.22.33.44"],
			[true, "2001:db8::123.123.123.123"],
			[true, "::1234:5678:91.123.4.56"],
			[true, "::1234:5678:1.2.3.4"],
			[true, "2001:db8::1234:5678:5.6.7.8"],
			[false, ""],
			[true, "2001:0000:1234:0000:0000:C1C0:ABCD:0876"],
			[true, "2001:0:1234::C1C0:ABCD:876"],
			[true, "3ffe:0b00:0000:0000:0001:0000:0000:000a"],
			[true, "3ffe:b00::1:0:0:a"],
			[true, "FF02:0000:0000:0000:0000:0000:0000:0001"],
			[true, "FF02::1"],
			[true, "0000:0000:0000:0000:0000:0000:0000:0001"],
			[true, "0000:0000:0000:0000:0000:0000:0000:0000"],
			[true, "::"],
			[true, "::ffff:192.168.1.26"],
			[false, "02001:0000:1234:0000:0000:C1C0:ABCD:0876"],
			[false, "2001:0000:1234:0000:00001:C1C0:ABCD:0876"],
			[true, " 2001:0000:1234:0000:0000:C1C0:ABCD:0876"],
			[true, " 2001:0:1234::C1C0:ABCD:876"],
			[true, " 2001:0000:1234:0000:0000:C1C0:ABCD:0876  "],
			[true, " 2001:0:1234::C1C0:ABCD:876  "],
			[false, " 2001:0000:1234:0000:0000:C1C0:ABCD:0876  0"],
			[false, "2001:0000:1234: 0000:0000:C1C0:ABCD:0876"],
			[false, "2001:1:1:1:1:1:255Z255X255Y255"],
			[false, "3ffe:0b00:0000:0001:0000:0000:000a"],
			[false, "FF02:0000:0000:0000:0000:0000:0000:0000:0001"],
			[false, "3ffe:b00::1::a"],
			[false, "::1111:2222:3333:4444:5555:6666::"],
			[true, "2::10"],
			[true, "ff02::1"],
			[true, "fe80::"],
			[true, "2002::"],
			[true, "2001:db8::"],
			[true, "2001:0db8:1234::"],
			[true, "::ffff:0:0"],
			[true, "::ffff:192.168.1.1"],
			[true, "1:2:3:4:5:6:7:8"],
			[true, "1:2:3:4:5:6::8"],
			[true, "1:2:3:4:5::8"],
			[true, "1:2:3:4::8"],
			[true, "1:2:3::8"],
			[true, "1:2::8"],
			[true, "1::8"],
			[true, "1::2:3:4:5:6:7"],
			[true, "1::2:3:4:5:6"],
			[true, "1::2:3:4:5"],
			[true, "1::2:3:4"],
			[true, "1::2:3"],
			[true, "::2:3:4:5:6:7:8"],
			[true, "::2:3:4:5:6:7"],
			[true, "::2:3:4:5:6"],
			[true, "::2:3:4:5"],
			[true, "::2:3:4"],
			[true, "::2:3"],
			[true, "::8"],
			[true, "1:2:3:4:5:6::"],
			[true, "1:2:3:4:5::"],
			[true, "1:2:3:4::"],
			[true, "1:2:3::"],
			[true, "1:2::"],
			[true, "1::"],
			[true, "1:2:3:4:5::7:8"],
			[false, "1:2:3::4:5::7:8"],
			[false, "12345::6:7:8"],
			[true, "1:2:3:4::7:8"],
			[true, "1:2:3::7:8"],
			[true, "1:2::7:8"],
			[true, "1::7:8"],
			[true, "1:2:3:4:5:6:1.2.3.4"],
			[true, "1:2:3:4:5::1.2.3.4"],
			[true, "1:2:3:4::1.2.3.4"],
			[true, "1:2:3::1.2.3.4"],
			[true, "1:2::1.2.3.4"],
			[true, "1::1.2.3.4"],
			[true, "1:2:3:4::5:1.2.3.4"],
			[true, "1:2:3::5:1.2.3.4"],
			[true, "1:2::5:1.2.3.4"],
			[true, "1::5:1.2.3.4"],
			[true, "1::5:11.22.33.44"],
			[false, "1::5:400.2.3.4"],
			[false, "1::5:260.2.3.4"],
			[false, "1::5:256.2.3.4"],
			[false, "1::5:1.256.3.4"],
			[false, "1::5:1.2.256.4"],
			[false, "1::5:1.2.3.256"],
			[false, "1::5:300.2.3.4"],
			[false, "1::5:1.300.3.4"],
			[false, "1::5:1.2.300.4"],
			[false, "1::5:1.2.3.300"],
			[false, "1::5:900.2.3.4"],
			[false, "1::5:1.900.3.4"],
			[false, "1::5:1.2.900.4"],
			[false, "1::5:1.2.3.900"],
			[false, "1::5:300.300.300.300"],
			[false, "1::5:3000.30.30.30"],
			[false, "1::400.2.3.4"],
			[false, "1::260.2.3.4"],
			[false, "1::256.2.3.4"],
			[false, "1::1.256.3.4"],
			[false, "1::1.2.256.4"],
			[false, "1::1.2.3.256"],
			[false, "1::300.2.3.4"],
			[false, "1::1.300.3.4"],
			[false, "1::1.2.300.4"],
			[false, "1::1.2.3.300"],
			[false, "1::900.2.3.4"],
			[false, "1::1.900.3.4"],
			[false, "1::1.2.900.4"],
			[false, "1::1.2.3.900"],
			[false, "1::300.300.300.300"],
			[false, "1::3000.30.30.30"],
			[false, "::400.2.3.4"],
			[false, "::260.2.3.4"],
			[false, "::256.2.3.4"],
			[false, "::1.256.3.4"],
			[false, "::1.2.256.4"],
			[false, "::1.2.3.256"],
			[false, "::300.2.3.4"],
			[false, "::1.300.3.4"],
			[false, "::1.2.300.4"],
			[false, "::1.2.3.300"],
			[false, "::900.2.3.4"],
			[false, "::1.900.3.4"],
			[false, "::1.2.900.4"],
			[false, "::1.2.3.900"],
			[false, "::300.300.300.300"],
			[false, "::3000.30.30.30"],
			[true, "fe80::217:f2ff:254.7.237.98"],
			[true, "fe80::217:f2ff:fe07:ed62"],
			[true, "2001:DB8:0:0:8:800:200C:417A"],
			[true, "FF01:0:0:0:0:0:0:101"],
			[true, "FF01::101"],
			[true, "0:0:0:0:0:0:0:1"],
			[true, "0:0:0:0:0:0:0:0"],
			[true, "2001:2:3:4:5:6:7:134"],
			[true, "fe80::4413:c8ae:2821:5852%10"],
			[true, "1111:2222:3333:4444:5555:6666:7777:8888"],
			[true, "1111:2222:3333:4444:5555:6666:7777::"],
			[true, "1111:2222:3333:4444:5555:6666::"],
			[true, "1111:2222:3333:4444:5555::"],
			[true, "1111:2222:3333:4444::"],
			[true, "1111:2222:3333::"],
			[true, "1111:2222::"],
			[true, "1111::"],
			[true, "1111:2222:3333:4444:5555:6666::8888"],
			[true, "1111:2222:3333:4444:5555::8888"],
			[true, "1111:2222:3333:4444::8888"],
			[true, "1111:2222:3333::8888"],
			[true, "1111:2222::8888"],
			[true, "1111::8888"],
			[true, "::8888"],
			[true, "1111:2222:3333:4444:5555::7777:8888"],
			[true, "1111:2222:3333:4444::7777:8888"],
			[true, "1111:2222:3333::7777:8888"],
			[true, "1111:2222::7777:8888"],
			[true, "1111::7777:8888"],
			[true, "::7777:8888"],
			[true, "1111:2222:3333:4444::6666:7777:8888"],
			[true, "1111:2222:3333::6666:7777:8888"],
			[true, "1111:2222::6666:7777:8888"],
			[true, "1111::6666:7777:8888"],
			[true, "::6666:7777:8888"],
			[true, "1111:2222:3333::5555:6666:7777:8888"],
			[true, "1111:2222::5555:6666:7777:8888"],
			[true, "1111::5555:6666:7777:8888"],
			[true, "::5555:6666:7777:8888"],
			[true, "1111:2222::4444:5555:6666:7777:8888"],
			[true, "1111::4444:5555:6666:7777:8888"],
			[true, "::4444:5555:6666:7777:8888"],
			[true, "1111::3333:4444:5555:6666:7777:8888"],
			[true, "::3333:4444:5555:6666:7777:8888"],
			[true, "::2222:3333:4444:5555:6666:7777:8888"],
			[true, "1111:2222:3333:4444:5555:6666:123.123.123.123"],
			[true, "1111:2222:3333:4444:5555::123.123.123.123"],
			[true, "1111:2222:3333:4444::123.123.123.123"],
			[true, "1111:2222:3333::123.123.123.123"],
			[true, "1111:2222::123.123.123.123"],
			[true, "1111::123.123.123.123"],
			[true, "::123.123.123.123"],
			[true, "1111:2222:3333:4444::6666:123.123.123.123"],
			[true, "1111:2222:3333::6666:123.123.123.123"],
			[true, "1111:2222::6666:123.123.123.123"],
			[true, "1111::6666:123.123.123.123"],
			[true, "::6666:123.123.123.123"],
			[true, "1111:2222:3333::5555:6666:123.123.123.123"],
			[true, "1111:2222::5555:6666:123.123.123.123"],
			[true, "1111::5555:6666:123.123.123.123"],
			[true, "::5555:6666:123.123.123.123"],
			[true, "1111:2222::4444:5555:6666:123.123.123.123"],
			[true, "1111::4444:5555:6666:123.123.123.123"],
			[true, "::4444:5555:6666:123.123.123.123"],
			[true, "1111::3333:4444:5555:6666:123.123.123.123"],
			[true, "::3333:4444:5555:6666:123.123.123.123"],
			[true, "::2222:3333:4444:5555:6666:123.123.123.123"],
			[false, "XXXX:XXXX:XXXX:XXXX:XXXX:XXXX:XXXX:XXXX"],
			[false, "1111:2222:3333:4444:5555:6666:7777:8888:9999"],
			[false, "1111:2222:3333:4444:5555:6666:7777:8888::"],
			[false, "::2222:3333:4444:5555:6666:7777:8888:9999"],
			[false, "1111:2222:3333:4444:5555:6666:7777"],
			[false, "1111:2222:3333:4444:5555:6666"],
			[false, "1111:2222:3333:4444:5555"],
			[false, "1111:2222:3333:4444"],
			[false, "1111:2222:3333"],
			[false, "1111:2222"],
			[false, "1111"], 
			[false, "11112222:3333:4444:5555:6666:7777:8888"],
			[false, "1111:22223333:4444:5555:6666:7777:8888"],
			[false, "1111:2222:33334444:5555:6666:7777:8888"],
			[false, "1111:2222:3333:44445555:6666:7777:8888"],
			[false, "1111:2222:3333:4444:55556666:7777:8888"],
			[false, "1111:2222:3333:4444:5555:66667777:8888"],
			[false, "1111:2222:3333:4444:5555:6666:77778888"],
			[false, "1111:2222:3333:4444:5555:6666:7777:8888:"],
			[false, "1111:2222:3333:4444:5555:6666:7777:"],
			[false, "1111:2222:3333:4444:5555:6666:"],
			[false, "1111:2222:3333:4444:5555:"],
			[false, "1111:2222:3333:4444:"],
			[false, "1111:2222:3333:"],
			[false, "1111:2222:"],
			[false, "1111:"],
			[false, ":"],
			[false, ":8888"],
			[false, ":7777:8888"],
			[false, ":6666:7777:8888"],
			[false, ":5555:6666:7777:8888"],
			[false, ":4444:5555:6666:7777:8888"],
			[false, ":3333:4444:5555:6666:7777:8888"],
			[false, ":2222:3333:4444:5555:6666:7777:8888"],
			[false, ":1111:2222:3333:4444:5555:6666:7777:8888"],
			[false, ":::2222:3333:4444:5555:6666:7777:8888"],
			[false, "1111:::3333:4444:5555:6666:7777:8888"],
			[false, "1111:2222:::4444:5555:6666:7777:8888"],
			[false, "1111:2222:3333:::5555:6666:7777:8888"],
			[false, "1111:2222:3333:4444:::6666:7777:8888"],
			[false, "1111:2222:3333:4444:5555:::7777:8888"],
			[false, "1111:2222:3333:4444:5555:6666:::8888"],
			[false, "1111:2222:3333:4444:5555:6666:7777:::"],
			[false, "::2222::4444:5555:6666:7777:8888"],
			[false, "::2222:3333::5555:6666:7777:8888"],
			[false, "::2222:3333:4444::6666:7777:8888"],
			[false, "::2222:3333:4444:5555::7777:8888"],
			[false, "::2222:3333:4444:5555:7777::8888"],
			[false, "::2222:3333:4444:5555:7777:8888::"],
			[false, "1111::3333::5555:6666:7777:8888"],
			[false, "1111::3333:4444::6666:7777:8888"],
			[false, "1111::3333:4444:5555::7777:8888"],
			[false, "1111::3333:4444:5555:6666::8888"],
			[false, "1111::3333:4444:5555:6666:7777::"],
			[false, "1111:2222::4444::6666:7777:8888"],
			[false, "1111:2222::4444:5555::7777:8888"],
			[false, "1111:2222::4444:5555:6666::8888"],
			[false, "1111:2222::4444:5555:6666:7777::"],
			[false, "1111:2222:3333::5555::7777:8888"],
			[false, "1111:2222:3333::5555:6666::8888"],
			[false, "1111:2222:3333::5555:6666:7777::"],
			[false, "1111:2222:3333:4444::6666::8888"],
			[false, "1111:2222:3333:4444::6666:7777::"],
			[false, "1111:2222:3333:4444:5555::7777::"],
			[false, "XXXX:XXXX:XXXX:XXXX:XXXX:XXXX:1.2.3.4"],
			[false, "1111:2222:3333:4444:5555:6666:256.256.256.256"],
			[false, "1111:2222:3333:4444:5555:6666:000.000.000.000"],
			[false, "1111:2222:3333:4444:5555:6666:00.00.00.00"],
			[false, "1111:2222:3333:4444:5555:6666:7777:8888:1.2.3.4"],
			[false, "1111:2222:3333:4444:5555:6666:7777:1.2.3.4"],
			[false, "1111:2222:3333:4444:5555:6666::1.2.3.4"],
			[false, "::2222:3333:4444:5555:6666:7777:1.2.3.4"],
			[false, "1111:2222:3333:4444:5555:6666:1.2.3.4.5"],
			[false, "1111:2222:3333:4444:5555:1.2.3.4"],
			[false, "1111:2222:3333:4444:1.2.3.4"],
			[false, "1111:2222:3333:1.2.3.4"],
			[false, "1111:2222:1.2.3.4"],
			[false, "1111:1.2.3.4"],
			[false, "11112222:3333:4444:5555:6666:1.2.3.4"],
			[false, "1111:22223333:4444:5555:6666:1.2.3.4"],
			[false, "1111:2222:33334444:5555:6666:1.2.3.4"],
			[false, "1111:2222:3333:44445555:6666:1.2.3.4"],
			[false, "1111:2222:3333:4444:55556666:1.2.3.4"],
			[false, "1111:2222:3333:4444:5555:66661.2.3.4"],
			[false, "1111:2222:3333:4444:5555:6666:255255.255.255"],
			[false, "1111:2222:3333:4444:5555:6666:255.255255.255"],
			[false, "1111:2222:3333:4444:5555:6666:255.255.255255"],
			[false, ":1.2.3.4"],
			[false, ":6666:1.2.3.4"],
			[false, ":5555:6666:1.2.3.4"],
			[false, ":4444:5555:6666:1.2.3.4"],
			[false, ":3333:4444:5555:6666:1.2.3.4"],
			[false, ":2222:3333:4444:5555:6666:1.2.3.4"],
			[false, ":1111:2222:3333:4444:5555:6666:1.2.3.4"],
			[false, ":::2222:3333:4444:5555:6666:1.2.3.4"],
			[false, "1111:::3333:4444:5555:6666:1.2.3.4"],
			[false, "1111:2222:::4444:5555:6666:1.2.3.4"],
			[false, "1111:2222:3333:::5555:6666:1.2.3.4"],
			[false, "1111:2222:3333:4444:::6666:1.2.3.4"],
			[false, "1111:2222:3333:4444:5555:::1.2.3.4"],
			[false, "::2222::4444:5555:6666:1.2.3.4"],
			[false, "::2222:3333::5555:6666:1.2.3.4"],
			[false, "::2222:3333:4444::6666:1.2.3.4"],
			[false, "::2222:3333:4444:5555::1.2.3.4"],
			[false, "1111::3333::5555:6666:1.2.3.4"],
			[false, "1111::3333:4444::6666:1.2.3.4"],
			[false, "1111::3333:4444:5555::1.2.3.4"],
			[false, "1111:2222::4444::6666:1.2.3.4"],
			[false, "1111:2222::4444:5555::1.2.3.4"],
			[false, "1111:2222:3333::5555::1.2.3.4"],
			[false, "::.."],
			[false, "::..."],
			[false, "::1..."],
			[false, "::1.2.."],
			[false, "::1.2.3."],
			[false, "::.2.."],
			[false, "::.2.3."],
			[false, "::.2.3.4"],
			[false, "::..3."],
			[false, "::..3.4"],
			[false, "::...4"],
			[false, ":1111:2222:3333:4444:5555:6666:7777::"],
			[false, ":1111:2222:3333:4444:5555:6666::"],
			[false, ":1111:2222:3333:4444:5555::"],
			[false, ":1111:2222:3333:4444::"],
			[false, ":1111:2222:3333::"],
			[false, ":1111:2222::"],
			[false, ":1111::"],
			[false, ":::"],
			[false, ":1111:2222:3333:4444:5555:6666::8888"],
			[false, ":1111:2222:3333:4444:5555::8888"],
			[false, ":1111:2222:3333:4444::8888"],
			[false, ":1111:2222:3333::8888"],
			[false, ":1111:2222::8888"],
			[false, ":1111::8888"],
			[false, ":::8888"],
			[false, ":1111:2222:3333:4444:5555::7777:8888"],
			[false, ":1111:2222:3333:4444::7777:8888"],
			[false, ":1111:2222:3333::7777:8888"],
			[false, ":1111:2222::7777:8888"],
			[false, ":1111::7777:8888"],
			[false, ":::7777:8888"],
			[false, ":1111:2222:3333:4444::6666:7777:8888"],
			[false, ":1111:2222:3333::6666:7777:8888"],
			[false, ":1111:2222::6666:7777:8888"],
			[false, ":1111::6666:7777:8888"],
			[false, ":::6666:7777:8888"],
			[false, ":1111:2222:3333::5555:6666:7777:8888"],
			[false, ":1111:2222::5555:6666:7777:8888"],
			[false, ":1111::5555:6666:7777:8888"],
			[false, ":::5555:6666:7777:8888"],
			[false, ":1111:2222::4444:5555:6666:7777:8888"],
			[false, ":1111::4444:5555:6666:7777:8888"],
			[false, ":::4444:5555:6666:7777:8888"],
			[false, ":1111::3333:4444:5555:6666:7777:8888"],
			[false, ":::3333:4444:5555:6666:7777:8888"],
			[false, ":1111:2222:3333:4444:5555::1.2.3.4"],
			[false, ":1111:2222:3333:4444::1.2.3.4"],
			[false, ":1111:2222:3333::1.2.3.4"],
			[false, ":1111:2222::1.2.3.4"],
			[false, ":1111::1.2.3.4"],
			[false, ":::1.2.3.4"],
			[false, ":1111:2222:3333:4444::6666:1.2.3.4"],
			[false, ":1111:2222:3333::6666:1.2.3.4"],
			[false, ":1111:2222::6666:1.2.3.4"],
			[false, ":1111::6666:1.2.3.4"],
			[false, ":::6666:1.2.3.4"],
			[false, ":1111:2222:3333::5555:6666:1.2.3.4"],
			[false, ":1111:2222::5555:6666:1.2.3.4"],
			[false, ":1111::5555:6666:1.2.3.4"],
			[false, ":::5555:6666:1.2.3.4"],
			[false, ":1111:2222::4444:5555:6666:1.2.3.4"],
			[false, ":1111::4444:5555:6666:1.2.3.4"],
			[false, ":::4444:5555:6666:1.2.3.4"],
			[false, ":1111::3333:4444:5555:6666:1.2.3.4"],
			[false, ":::3333:4444:5555:6666:1.2.3.4"],
			[false, "1111:2222:3333:4444:5555:6666:::"],
			[false, "1111:2222:3333:4444:5555:::"],
			[false, "1111:2222:3333:4444:::"],
			[false, "1111:2222:3333:::"],
			[false, "1111:2222:::"],
			[false, "1111:::"],
			[false, "1111:2222:3333:4444:5555:6666::8888:"],
			[false, "1111:2222:3333:4444:5555::8888:"],
			[false, "1111:2222:3333:4444::8888:"],
			[false, "1111:2222:3333::8888:"],
			[false, "1111:2222::8888:"],
			[false, "1111::8888:"],
			[false, "::8888:"],
			[false, "1111:2222:3333:4444:5555::7777:8888:"],
			[false, "1111:2222:3333:4444::7777:8888:"],
			[false, "1111:2222:3333::7777:8888:"],
			[false, "1111:2222::7777:8888:"],
			[false, "1111::7777:8888:"],
			[false, "::7777:8888:"],
			[false, "1111:2222:3333:4444::6666:7777:8888:"],
			[false, "1111:2222:3333::6666:7777:8888:"],
			[false, "1111:2222::6666:7777:8888:"],
			[false, "1111::6666:7777:8888:"],
			[false, "::6666:7777:8888:"],
			[false, "1111:2222:3333::5555:6666:7777:8888:"],
			[false, "1111:2222::5555:6666:7777:8888:"],
			[false, "1111::5555:6666:7777:8888:"],
			[false, "::5555:6666:7777:8888:"],
			[false, "1111:2222::4444:5555:6666:7777:8888:"],
			[false, "1111::4444:5555:6666:7777:8888:"],
			[false, "::4444:5555:6666:7777:8888:"],
			[false, "1111::3333:4444:5555:6666:7777:8888:"],
			[false, "::3333:4444:5555:6666:7777:8888:"],
			[false, "::2222:3333:4444:5555:6666:7777:8888:"],
			[false, ""],
			[true, "::"],
			[true, "0:0:0:0:0:0:0:1"],
			[true, "0:0:0:0:0:0:0:0"],
			[true, "2001:DB8:0:0:8:800:200C:417A"],
			[true, "FF01:0:0:0:0:0:0:101"],
			[true, "2001:DB8::8:800:200C:417A"],
			[true, "FF01::101"],
			[false, "2001:DB8:0:0:8:800:200C:417A:221"],
			[false, "FF01::101::2"],
			[false, "02001:0000:1234:0000:0000:C1C0:ABCD:0876"],
			[false, "2001:0000:1234:0000:00001:C1C0:ABCD:0876"], 
			[true," 2001:0000:1234:0000:0000:C1C0:ABCD:0876"],
			[true,"2001:0000:1234:0000:0000:C1C0:ABCD:0876"],
			[true," 2001:0000:1234:0000:0000:C1C0:ABCD:0876  "],
			[false, "2001:0000:1234:0000:0000:C1C0:ABCD:0876  0"], 
			[false, "2001:0000:1234: 0000:0000:C1C0:ABCD:0876"], 
			[false, "3ffe:0b00:0000:0001:0000:0000:000a"], 
			[false, "FF02:0000:0000:0000:0000:0000:0000:0000:0001"], 
			[false, "3ffe:b00::1::a"], 
			[false, "::1111:2222:3333:4444:5555:6666::"], 
			[false, "::1"],
			[false, "1:2:3::4:5::7:8"], 
			[false, "2001:1:1:1:1:1:255Z255X255Y255"],
			[false, "::ffff:192x168.1.26"], 
			[true, "0:0:0:0:0:0:13.1.68.3"],
			[true, "0:0:0:0:0:FFFF:129.144.52.38"],
			[true, "::13.1.68.3"],
			[true, "::FFFF:129.144.52.38"],
			[true, "fe80:0:0:0:204:61ff:254.157.241.86"],
			[true, "fe80::204:61ff:254.157.241.86"],
			[true, "::ffff:12.34.56.78"],
			[false, "::ffff:2.3.4"],
			[false, "::ffff:257.1.2.3"],
			[false, "1.2.3.4:1111:2222:3333:4444::5555"],
			[false, "1.2.3.4:1111:2222:3333::5555"],
			[false, "1.2.3.4:1111:2222::5555"],
			[false, "1.2.3.4:1111::5555"],
			[false, "1.2.3.4::5555"],
			[false, "1.2.3.4::"],
			[true, "::ffff:192.0.2.128"],
			[true, "fe80:0000:0000:0000:0204:61ff:fe9d:f156"],
			[true, "fe80:0:0:0:204:61ff:fe9d:f156"],
			[true, "fe80::204:61ff:fe9d:f156"],
			[true, "fe80::1"],
			[true, "::ffff:c000:280"],
			[false, "1111:2222:3333:4444::5555:"],
			[false, "1111:2222:3333::5555:"],
			[false, "1111:2222::5555:"],
			[false, "1111::5555:"],
			[false, "::5555:"],
			[false, ":1111:2222:3333:4444::5555"],
			[false, ":1111:2222:3333::5555"],
			[false, ":1111:2222::5555"],
			[false, ":1111::5555"],
			[false, ":::5555"],
			[true, "2001:0db8:85a3:0000:0000:8a2e:0370:7334"],
			[true, "2001:db8:85a3:0:0:8a2e:370:7334"],
			[true, "2001:db8:85a3::8a2e:370:7334"],
			[true, "2001:0db8:0000:0000:0000:0000:1428:57ab"],
			[true, "2001:0db8:0000:0000:0000::1428:57ab"],
			[true, "2001:0db8:0:0:0:0:1428:57ab"],
			[true, "2001:0db8:0:0::1428:57ab"],
			[true, "2001:0db8::1428:57ab"],
			[true, "2001:db8::1428:57ab"],
			[true, "::ffff:0c22:384e"],
			[true, "2001:0db8:1234:0000:0000:0000:0000:0000"],
			[true, "2001:0db8:1234:ffff:ffff:ffff:ffff:ffff"],
			[true, "2001:db8:a::123"],
			[false, "123"],  
			[false, "ldkfj"],
			[false, "2001::FFD3::57ab"],
			[false, "2001:db8:85a3::8a2e:37023:7334"],
			[false, "2001:db8:85a3::8a2e:370k:7334"],
			[false, "1:2:3:4:5:6:7:8:9"],
			[false, "1::2::3"],
			[false, "1:::3:4:5"],
			[false, "1:2:3::4:5:6:7:8:9"],
			[true, "::0:0:0:0:0:0:0"],
			[true, "::0:0:0:0:0:0"],
			[true, "::0:0:0:0:0"],
			[true, "::0:0:0:0"],
			[true, "::0:0:0"],
			[true, "::0:0"],
			[true, "::0"],
			[true, "0:0:0:0:0:0:0::"],
			[true, "0:0:0:0:0:0::"],
			[true, "0:0:0:0:0::"],
			[true, "0:0:0:0::"],
			[true, "0:0:0::"],
			[true, "0:0::"],
			[true, "0::"],
			[false, "::."],
			[true, "0:a:b:c:d:e:f::"],
			[true, "::0:a:b:c:d:e:f"], 
			[true, "a:b:c:d:e:f:0::"],
			[false, ":10.0.0.1"]
		];

		var totalTests = 0;
		for(var i in hostnames ){
			var shouldBeValid = hostnames[i][0];
			var hostname = hostnames[i][1];

			var host = {name: "Test", hostname: hostname, port: 80, command: 'C', userId: user._id.toString()};
			
			var retFun = function(pShouldBeValid,pHostname) {
				return function(data){
					totalTests++;
					if( !pShouldBeValid ){
						assert.fail(data.hostname,pHostname,'hostname "' + data.hostname + '"" should throw an error');
					}
					if(totalTests == hostnames.length){
						done();
					}
				};
			};

			try{
				hostdao.insert(host, retFun(shouldBeValid,hostname));
			}
			catch(err){
				totalTests++;
				if(shouldBeValid){
					assert.fail('undefined', host.hostname,'hostname "' + host.hostname + '"" should be valid');
				}
				if(totalTests == hostnames.length){
					done();
				}
			}
		}
	});
})
